---
import { Image } from '@astrojs/image/components'
import { getAssetURL } from '../utils/get-asset-url'
import type { Project } from '../utils/get-directus-client'

export type Props = {
  title?: string
  projects?: Project[]
}

const { title, projects } = Astro.props
---

<section id="projects">
  <div class="container mx-auto px-4 py-20">
    <h2
      class="text-hightlight mb-4 text-center text-4xl font-black lg:text-5xl"
    >
      <Fragment set:html={title} />
    </h2>

    <ul class="mt-12 flex space-x-8">
      {
        projects?.map((project) => (
          <li class="w-1/3 rounded-xl bg-neutral-200 p-4 dark:bg-neutral-700">
            <div>
              <Image
                src={getAssetURL(project.image)}
                width={1363}
                height={876}
                class="h-auto w-full rounded-lg"
                alt={project.name}
              />
            </div>

            <h3 class="mt-4 text-xl">{project.name}</h3>
          </li>
        ))
      }
    </ul>
  </div>
</section>
